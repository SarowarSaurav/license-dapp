{"version":3,"sources":["images/icon.png","images/gorgeous-line-top.png","images/gorgeous-line-bottom.png","images/certificate-stamp.png","images/facebook-icon.svg","images/twitter-icon.svg","images/mail-icon.svg","utils/hex.js","utils/common.js","components/Home.js","utils/getWeb3.js","utils/getContractInstance.js","components/Certificate.js","utils/sendTransaction.js","components/IssuePage.js","components/App.js","index.js"],"names":["module","exports","toHex","str","s","unescape","encodeURIComponent","h","i","length","charCodeAt","toString","fromHex","String","fromCharCode","parseInt","substr","decodeURIComponent","escape","TWEET_TXT","builURL","l","window","location","appName","pathname","split","origin","replace","buildMLink","subject","body","href","langIsJa","navigator","language","Home","state","bride","groom","lang","componentDidMount","setState","handleChange","e","target","name","value","validation","this","canIssue","className","src","IconImg","alt","width","height","en","ja","type","placeholder","required","onChange","to","Component","getWeb3","useUetamask","Promise","resolve","reject","a","ethereum","enable","Web3","web3","Error","providers","HttpProvider","getContractInstance","contractDefinition","eth","net","getId","networkId","deployedAddress","networks","address","instance","Contract","abi","Certificate","cerID","txHash","issuedDate","Date","toLocaleDateString","params","props","match","isSample","getAccounts","accounts","contract","id","decodeCertificateID","methods","certificates","call","from","certificate","getTransactionReceipt","receipt","getBlock","blockNumber","block","timestamp","alert","message","console","error","path","LineTopImg","face","rel","CerImg","LineBottomImg","FacebookImg","TwitterImg","MailImg","hex","Number","sendTransaction","transaction","estimateGas","gas","log","options","data","encodeABI","gasPrice","send","blockHash","IssuePage","issuing","issued","handleClick","padTo32byte","FEE","fee","issueCertificate","events","Issued","returnValues","certificateID","transactionHash","document","getElementById","click","readOnly","disabled","role","aria-hidden","onClick","Id","padStart","App","basename","process","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.160e065c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon.57c400b8.png\";","module.exports = __webpack_public_path__ + \"static/media/gorgeous-line-top.ff1db429.png\";","module.exports = __webpack_public_path__ + \"static/media/gorgeous-line-bottom.d1162595.png\";","module.exports = __webpack_public_path__ + \"static/media/certificate-stamp.dd99316c.png\";","module.exports = __webpack_public_path__ + \"static/media/facebook-icon.1102b5b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter-icon.a1223de5.svg\";","module.exports = __webpack_public_path__ + \"static/media/mail-icon.46bb5905.svg\";","// Ref: https://gist.github.com/valentinkostadinov/5875467\nconst toHex = (str) => {\n    // utf8 to latin1\n    var s = unescape(encodeURIComponent(str))\n    var h = ''\n    for (var i = 0; i < s.length; i++) {\n        h += s.charCodeAt(i).toString(16)\n    }\n    return h\n}\n\nconst fromHex = (h) => {\n    var s = ''\n    for (var i = 0; i < h.length; i+=2) {\n        s += String.fromCharCode(parseInt(h.substr(i, 2), 16))\n    }\n\n    return decodeURIComponent(escape(s))\n}\n\nexport { toHex, fromHex }\n","const APP_ID = 2593999254169138\nconst TWEET_TXT = 'I issued a marriage certificate on Blockchain. Check out my certificate'\nconst ML_SUBJECT = 'I issued a marriage certificate on Blockchain'\n\nconst builURL = () => {\n  const l = window.location\n  const appName = l.pathname.split('/')[1]\n  return encodeURIComponent(`${l.origin}/${appName}/?p=/${l.pathname.replace(`/${appName}/`,'')}`)\n}\n\nconst buildFBLink = () => {\n  const appID = APP_ID\n  const display = 'popup'\n  return `https://www.facebook.com/dialog/share?app_id=${appID}&display=${display}&href=${builURL()}&redirect_uri=${builURL()}`\n}\n\nconst buildTWLink = () => {\n  const text = TWEET_TXT\n  const hashtags = 'blockchain,marriage,certificate'\n  return `https://twitter.com/intent/tweet?text=${text}&hashtags=${hashtags}&url=${builURL()}`\n}\n\nconst buildMLink = () => {\n  const subject = encodeURIComponent(ML_SUBJECT)\n  const body = encodeURIComponent(`${TWEET_TXT}: ${window.location.href}`)\n  return `mailto:?Subject=${subject}&body=${body}`\n}\n\nconst redirectRoot = (condition) => {\n  if (condition) window.location.href = \"/\"\n}\n\nconst langIsJa = () => window.navigator.language === \"ja\"\n\nexport { redirectRoot, buildFBLink, buildTWLink, buildMLink, langIsJa }\n","import React, { Component } from \"react\"\nimport { Determinator, MultiLang } from \"react-multi-language\"\n\nimport { Link } from \"react-router-dom\"\nimport { toHex } from \"../utils/hex\"\nimport { langIsJa } from \"../utils/common\"\n\nimport IconImg from \"../images/icon.png\"\n\nclass Home extends Component {\n  state = {\n    bride: '',\n    groom: '',\n    lang: 'en',\n  }\n\n  componentDidMount = () => this.setState({lang: langIsJa() ? 'ja' : this.state.lang})\n\n  handleChange = (e) => this.setState({[e.target.name]: toHex(e.target.value)})\n\n  validation = (value) => 1 <= value.length && value.length <= 64\n\n  render() {\n    let bride = this.state.bride\n    let groom = this.state.groom\n    let canIssue = this.validation(bride) && this.validation(groom)\n\n    return (\n      <div className=\"container ribbon14-wrapper\">\n        <span className=\"ribbon14\">♡</span>\n        <div className=\"py-5 text-center\">\n          <img className=\"d-block mx-auto mb-4\" src={IconImg} alt=\"\" width=\"72\" height=\"72\"/>\n          <h1 className=\"text-white\">\n            <Determinator>\n              {{\n                en: 'Marriage certificate on Blockchain',\n                ja: 'ブロックチェーンで婚約証明書を発行'\n              }}\n            </Determinator>\n          </h1>\n          <p className=\"lead text-white\">\n            <Determinator>\n              {{\n                en: 'Blockchain prove your marriage forever even you go. Issue marriage certificate for everybody even sexual minorities.',\n                ja: 'ブロックチェーン上にあなた方の婚約を永遠に記録します。いかなるセクシャルマイノリティーでも発行可能です。'\n              }}\n            </Determinator>\n          </p>\n        </div>\n        <form className=\"form-signin\">\n          <div className=\"text-center mb-4\">\n            <p className=\"lead text-white\">\n              <Determinator>\n                {{\n                  en: \"We are going to show you a sample certificate.Please tell us your name and your partner's name.\",\n                  ja: '証明書のサンプルを発行します。あなたのお名前と、パートナーのお名前を教えてください。'\n                }}\n              </Determinator>\n            </p>\n          </div>\n\n          <div className=\"form-label-group mb-2\">\n            <input type=\"text\" name=\"bride\" placeholder={this.state.lang === 'ja' ? \"あなたのお名前\" : \"Your Name\"} required\n              onChange={(e) => this.handleChange(e)}\n              className={this.validation(bride) || bride === '' ? \"form-control\" : \"is-invalid form-control\"}/>\n            <div className=\"invalid-feedback text-white\">Too Long</div>\n          </div>\n\n          <div className=\"form-label-group mb-4\">\n            <input type=\"text\" name=\"groom\" placeholder={this.state.lang === 'ja' ? \"パートナーのお名前\" : \"Partner's Name\"} required\n              onChange={(e) => this.handleChange(e)}\n              className={this.validation(groom) || groom === '' ? \"form-control\" : \"is-invalid form-control\"}/>\n            <div className=\"invalid-feedback text-white\">Too Long</div>\n          </div>\n          <Link className={canIssue\n              ? 'btn btn-lg btn-block btn-outline-pink'\n              : 'btn btn-lg btn-block btn-outline-pink disabled'\n            } to={`/certificate/sample/${bride}/${groom}`}>\n            <Determinator>\n            {{\n              en: 'Issue Sample Certification',\n              ja: 'サンプル証明書発行'\n            }}\n            </Determinator>\n          </Link>\n        </form>\n        <MultiLang lang={this.state.lang}/>\n      </div>\n    )\n  }\n}\n\nexport default Home;\n","import Web3 from \"web3\"\n\nconst getWeb3 = (useUetamask = false) =>\n  new Promise(async (resolve, reject) => {\n    if (useUetamask) {\n      if (window.ethereum) {\n        try {\n          // Request account access if needed\n          await window.ethereum.enable()\n          // Acccounts now exposed\n          resolve(new Web3(window.ethereum))\n        } catch (error) {\n          reject(error)\n        }\n      // Legacy dapp browsers...\n      } else if (window.web3) {\n        resolve(window.web3)\n      } else {\n        reject(new Error('Please install metamask'))\n      }\n    } else {\n      resolve(new Web3(new Web3.providers.HttpProvider(\n        \"https://mainnet.infura.io/v3/17d6cc16e48d403c89a993c39c940f5b\"\n      )))\n    }\n  })\n\nexport default getWeb3\n","const getContractInstance = async (web3, contractDefinition) => {\n\n  // get network ID and the deployed address\n  const networkId = await web3.eth.net.getId()\n  const deployedAddress = contractDefinition.networks[networkId].address\n\n  // create the instance\n  const instance = new web3.eth.Contract(contractDefinition.abi, deployedAddress)\n\n  return instance\n}\n\nexport default getContractInstance\n","import React, { Component } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Determinator, MultiLang } from \"react-multi-language\"\n\nimport contractDefinition from \"../contracts/MarriageCertificateIssuer.json\"\nimport getWeb3 from \"../utils/getWeb3\"\nimport getContractInstance from '../utils/getContractInstance'\nimport { buildFBLink, buildTWLink, buildMLink, langIsJa } from \"../utils/common\"\nimport { toHex, fromHex } from \"../utils/hex\"\n\nimport LineTopImg from \"../images/gorgeous-line-top.png\"\nimport LineBottomImg from \"../images/gorgeous-line-bottom.png\"\nimport CerImg from \"../images/certificate-stamp.png\"\nimport FacebookImg from \"../images/facebook-icon.svg\"\nimport TwitterImg from \"../images/twitter-icon.svg\"\nimport MailImg from \"../images/mail-icon.svg\"\n\nconst PREFIX_NUM = 20000000\n\nclass Certificate extends Component {\n  state = {\n    bride: '',\n    groom: '',\n    cerID: '0x00000',\n    txHash: '0x0000000000000000000000000000000000000000',\n    issuedDate: (new Date()).toLocaleDateString('en-US'),\n    lang: 'en',\n  }\n\n  componentDidMount = async () => {\n    this.setState({lang: langIsJa() ? 'ja' : this.state.lang})\n\n    const params = this.props.match.params\n\n    // Sample Page\n    if (this.isSample()) {\n      this.setState({ bride: fromHex(params.bride), groom: fromHex(params.groom) })\n      return\n    }\n\n    // Real Page\n    try {\n      const web3 = await getWeb3()\n      const accounts = await web3.eth.getAccounts()\n      const contract = await getContractInstance(web3, contractDefinition)\n\n      const id = decodeCertificateID(params.id)\n      const certificate = await contract.methods.certificates(id).call({ from: accounts[0] })\n      const receipt = await web3.eth.getTransactionReceipt(params.txHash)\n      const block = await web3.eth.getBlock(receipt.blockNumber)\n\n      this.setState({\n        bride: fromHex(certificate.bride.replace(/^0x0*/,'')),\n        groom: fromHex(certificate.groom.replace(/^0x0*/,'')),\n        cerID: params.id,\n        txHash: params.txHash,\n        issuedDate: (new Date(block.timestamp * 1000)).toLocaleDateString('en-US'),\n      })\n\n    } catch (e) {\n      alert(e.message, console.error(e))\n    }\n  }\n\n  isSample = () => this.props.match.path === '/certificate/sample/:bride/:groom/'\n\n  render() {\n    const isSample = this.isSample()\n    return (\n      <div className=\"bg-white\">\n        <div className=\"container py-5\">\n          <div className=\"cross-line text-center my-2 mx-2\">\n            <div className=\"row mt-3\">\n              <div className=\"col\">\n                <img className=\"d-block mx-auto mb-4\" src={LineTopImg} alt=\"\" width=\"300\" height=\"50\"/>\n                { isSample ? <h3>Sample</h3> : ''}\n                <h1 className=\"text-pink\"><font face=\"cursive\">Certificate of Marriage</font></h1>\n                <h3 className=\"text-pink\">Recorded forever in Blockchain</h3>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-5\">\n                <p className=\"lead mx-4 border-line\"><font face=\"cursive\">{this.state.bride}</font></p>\n              </div>\n              <div className=\"col-md-2\">\n                <p>And</p>\n              </div>\n              <div className=\"col-md-5\">\n                <p className=\"lead mx-4 border-line\"><font face=\"cursive\">{this.state.groom}</font></p>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <p>Were United in Marriage on <code className=\"border-line text-dark\"><font face=\"cursive\">{this.state.issuedDate}</font></code><br/>This Certificate was Recored in a Smart Contract of Ethereum.</p>\n              </div>\n            </div>\n            <div className=\"row mb-5\">\n              <div className=\"col-md-1\"></div>\n              <div className=\"col-md-8 text-left\">\n                <blockquote className=\"blockquote ml-2\">\n                  <p className=\"mb-0\">Transaction Hash:</p>\n                  <footer className=\"blockquote-footer break-word\">\n                  {\n                    isSample\n                      ? <div>{this.state.txHash}</div>\n                      : <a href={`https://etherscan.io/tx/${this.state.txHash}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                          {this.state.txHash}\n                        </a>\n                  }\n                  </footer>\n                </blockquote>\n                <blockquote className=\"blockquote ml-2\">\n                  <p className=\"mb-0\">Certificate ID:</p>\n                  <footer className=\"blockquote-footer break-word\">{this.state.cerID}</footer>\n                </blockquote>\n              </div>\n              <div className=\"col-md-2\">\n                <img src={CerImg} alt=\"certificates stamp\" width=\"130\" height=\"150\"/>\n              </div>\n              <div className=\"col-md-1\"></div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <img className=\"d-block mx-auto mb-4\" src={LineBottomImg} alt=\"\" width=\"270\" height=\"40\"/>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"pink lighten-1\">\n          <div className=\"container\">\n            <div className=\"row text-white\">\n              <div className=\"col\">\n                <p className=\"lead my-1\">\n                  <Determinator>\n                  {{\n                    en: 'Share with your partner',\n                    ja: 'パートナーにシェアしましょう。'\n                  }}\n                  </Determinator>\n                </p>\n                <nav className=\"mb-2\">\n                  <ul className=\"nav\">\n                    <li className=\"nav-item\">\n                      <a href={buildFBLink()} target=\"_blank\" rel=\"noopener noreferrer\" className=\"nav-link sns\"><img src={FacebookImg} alt=\"\" width=\"40\" height=\"40\"/></a>\n                    </li>\n                    <li className=\"nav-item\">\n                      <a href={buildTWLink()} target=\"_blank\" rel=\"noopener noreferrer\" className=\"nav-link sns\"><img src={TwitterImg} alt=\"\" width=\"40\" height=\"40\"/></a>\n                    </li>\n                    <li className=\"nav-item\">\n                      <a href={buildMLink()} target=\"_blank\" rel=\"noopener noreferrer\" className=\"nav-link sns\"><img src={MailImg} alt=\"\" width=\"40\" height=\"40\"/></a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n            </div>\n            { isSample\n              ? <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    <Link className=\"btn btn-lg btn-block btn-outline-pink\"\n                      to={`/issue/${toHex(this.state.bride)}/${toHex(this.state.groom)}`}>\n                      <Determinator>\n                      {{\n                        en: 'Next',\n                        ja: '次へ'\n                      }}\n                      </Determinator>\n                    </Link>\n                  </div>\n                </div>\n              : ''\n             }\n          </div>\n        </div>\n        <MultiLang lang={this.state.lang}/>\n      </div>\n    )\n  }\n}\n\nconst decodeCertificateID = (hex) => Number(fromHex(hex.replace(/^0x/, \"\"))) - PREFIX_NUM - 1\n\nexport default Certificate\n","const sendTransaction = async (transaction, from, value=0, web3) => {\n  const gas = await transaction.estimateGas({ from, value })\n\n  console.log(\"Estimaged Gas:\" + gas)\n  console.log(transaction)\n\n  let options = {\n    from,\n    data: transaction.encodeABI(),\n    gas: gas + 10000,\n    gasPrice: 10000000000,\n    value\n  }\n\n  const receipt = await transaction.send(options)\n\n  console.log(receipt)\n\n  if (!receipt.blockHash) throw new Error('Failed to send transaction')\n\n  return receipt;\n}\n\nexport default sendTransaction\n","import React, { Component } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Determinator, MultiLang } from \"react-multi-language\"\n\nimport contractDefinition from \"../contracts/MarriageCertificateIssuer.json\"\nimport getWeb3 from \"../utils/getWeb3\"\nimport getContractInstance from '../utils/getContractInstance'\nimport sendTransaction from '../utils/sendTransaction'\nimport { toHex, fromHex } from \"../utils/hex\"\nimport { langIsJa } from \"../utils/common\"\n\nclass IssuePage extends Component {\n  state = {\n    issuing: false,\n    issued: false,\n    bride: '',\n    groom: '',\n    cerID: '',\n    txHash: '',\n    lang: 'en',\n  }\n\n  componentDidMount() {\n    this.setState({lang: langIsJa() ? 'ja' : this.state.lang})\n\n    const params = this.props.match.params\n    this.setState({bride: params.bride, groom: params.groom})\n  }\n\n  handleChange = (e) => this.setState({[e.target.name]: toHex(e.target.value)})\n\n  handleClick = async () => {\n    if (this.state.issued) {\n      const s = this.state\n      window.location.href = `/certificate/${s.cerID}/${s.txHash}`\n    }\n\n    try {\n      this.setState({issuing: true})\n      const web3 = await getWeb3(true)\n      const accounts = await web3.eth.getAccounts()\n      const contract = await getContractInstance(web3, contractDefinition)\n\n      const bride = padTo32byte(this.state.bride)\n      const groom = padTo32byte(this.state.groom)\n      const fee = await contract.methods.FEE().call({ from: accounts[0] })\n\n      const transaction = contract.methods.issueCertificate(bride, groom)\n      const receipt = await sendTransaction(transaction, accounts[0], fee)\n\n      this.setState({\n        issued: true,\n        issuing: false,\n        cerID: `0x${toHex(receipt.events.Issued.returnValues.certificateID)}`,\n        txHash: receipt.transactionHash\n      },() => {\n        document.getElementById('show-certificate').click()\n      })\n\n    } catch (e) {\n      this.setState({issuing: false})\n      alert(e.message, console.error(e))\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"py-4 text-center\">\n          <h1 className=\"text-white\">\n            <Determinator>\n            {{\n              en: 'Issue Real Marriage Certificate',\n              ja: '本物の証明書を発行します'\n            }}\n            </Determinator>\n          </h1>\n        </div>\n        <form className=\"form-signin\">\n          <div className=\"text-left mb-4\">\n            <p className=\"lead text-white\">\n              <Determinator>\n              {{\n                en: \"Confirm your and your partner's name.\",\n                ja: 'あなたとパートーナーのお名前を確認してください。'\n              }}\n              </Determinator>\n            </p>\n          </div>\n          <div className=\"form-label-group mb-2\">\n            { this.state.issued || this.state.issuing\n              ? <input type=\"text\" className=\"form-control\" value={fromHex(this.state.bride)} readOnly/>\n              : <input type=\"text\" name=\"bride\" className=\"form-control\"\n                  value={fromHex(this.state.bride)} onChange={(e) => this.handleChange(e)} />\n            }\n          </div>\n          <div className=\"form-label-group mb-4\">\n            { this.state.issued || this.state.issuing\n              ? <input type=\"text\" className=\"form-control\" value={fromHex(this.state.groom)} readOnly/>\n              : <input type=\"text\" name=\"groom\" className=\"form-control\"\n                  value={fromHex(this.state.groom)} onChange={(e) => this.handleChange(e)} />\n            }\n          </div>\n          <div className=\"text-left mb-4\">\n            <p className=\"lead text-white\">\n              <Determinator>\n                {{\n                  en: 'Issue marriage certificate on Ethereum.',\n                  ja: '婚約証明書をイーサリアム上に発行します。'\n                }}\n              </Determinator>\n              <br/>\n              <u>0.02 ETH</u>\n              <Determinator>\n                {{\n                  en: ' is issuance fee. And, ',\n                  ja: 'が発行手数料です。そして、'\n                }}\n              </Determinator>\n              <a className=\"text-white\"href=\"https://metamask.io/\"><strong>MetaMask</strong></a>\n              <Determinator>\n                {{\n                  en: ' is required. Please install in advance. Then please make sure that enough ETH have been deposited.',\n                  ja: 'が必要です。事前にインストールしてください。また、十分な量のETHを入金してください。'\n                }}\n              </Determinator>\n            </p>\n            <p className=\"lead text-white\">\n              <Determinator>\n                {{\n                  en: 'If you have prepared, please click the following button. It may take few minutes for issuing. Sorry for keeping you wait.',\n                  ja: '準備ができたら下のボタンを押してください。場合によっては、発行に数分かかります。ご不便をおかけして申し訳ございません。'\n                }}\n              </Determinator>\n            </p>\n          </div>\n          { this.state.issuing\n            ? <button className = \"btn btn-lg btn-block btn-outline-pink mb-4\" disabled>\n                <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                <Determinator>\n                  {{\n                    en: 'Issuing...',\n                    ja: '発行中...'\n                  }}\n                </Determinator>\n              </button>\n            : <button className = \"btn btn-lg btn-block btn-outline-pink mb-4\" onClick = {(e) => this.handleClick(e)}>\n                { this.state.issued\n                  ? this.state.lang === 'ja' ? '証明書を見る' : 'View Certificate'\n                  : this.state.lang === 'ja' ? '本物の証明書を発行' : 'Issue Real Certificate'}\n              </button>\n          }\n          <Link Id=\"show-certificate\" className=\"d-none\" to={`/certificate/${this.state.cerID}/${this.state.txHash}`}>Show Certificate\n          </Link>\n        </form>\n        <MultiLang lang={this.state.lang}/>\n      </div>\n    )\n  }\n}\n\nconst padTo32byte = (hex) => `0x${hex.padStart(64, '0')}`\n\nexport default IssuePage\n","import React, { Component } from \"react\"\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\n\nimport Home from './Home'\nimport Certificate from './Certificate'\nimport IssuePage from './IssuePage'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route path=\"/certificate/sample/:bride/:groom/\" component={Certificate}/>\n          <Route path=\"/certificate/:id/:txHash\" component={Certificate}/>\n          <Route path=\"/issue/:bride/:groom/\" component={IssuePage}/>\n          <Route path=\"/\" component={Home}/>\n        </Switch>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}